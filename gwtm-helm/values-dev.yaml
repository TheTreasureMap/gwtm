# values-dev.yaml
global:
  environment: development
  useGeneratedSecrets: true

secrets:
  # Database configuration
  dbUser: "treasuremap"
  dbPassword: "treasuremap"  # Will be randomly generated if not provided
  dbName: "treasuremap"

  # Mail configuration
  mailPassword: "your-mail-password"  # Add actual password for dev environment
  mailUsername: ""
  mailDefaultSender: ""
  mailServer: "smtp.gmail.com"
  mailPort: "465"
  admins: ""

  # AWS credentials
  awsAccessKeyId: "your-awsa-access-key-id"
  awsSecretAccessKey: "your-aws-secret-key"
  awsDefaultRegion: "us-east-2"
  awsBucket: "gwtreasuremap"

  # Azure storage
  azureAccountName: "your-azure-account-name"
  azureAccountKey: "your-azure-account-key"
  storageBucketSource: "s3"

  # reCAPTCHA keys
  recaptchaPublicKey: "your-recaptcha-public-key"
  recaptchaPrivateKey: "your-recaptcha-private-key"

  # Zenodo access
  zenodoAccessKey: "your-zenodo-access-key"

  # Additional configuration
  extraSecrets:
    REDIS_URL: "redis://redis:6379/0"
    DEBUG: "True"

backend:
  replicas: 1
  resources:
    limits:
      cpu: 300m
      memory: 300Mi
    requests:
      cpu: 100m
      memory: 150Mi
  readinessProbe:
    enabled: false

fastapi:
  env:
    PUBLIC_API_BASE_URL: "/"
    BASE_URL: "http://gwtm.local:8081"
  replicas: 1
  resources:
    limits:
      cpu: 500m
      memory: 500Mi
    requests:
      cpu: 200m
      memory: 300Mi
  readinessProbe:
    enabled: false
  workers: 1

frontend:
  env:
    PUBLIC_API_BASE_URL: "/"
  replicas: 1
  resources:
    limits:
      cpu: 1000m
      memory: 1Gi
    requests:
      cpu: 500m
      memory: 512Mi

database:
  persistence:
    enabled: true
    size: 1Gi
  initScripts:
    enabled: true

# Listener configuration for development
listeners:
  image:
    tag: "latest"

  api:
    base: "http://flask-backend:8080/api/v0/"
    token: ""  # Set this for dev testing

  kafka:
    clientId: ""  # Set this for dev testing
    clientSecret: ""  # Set this for dev testing

  storage:
    type: "s3"  # Use S3 for dev, or set to "swift" if available
    s3:
      accessKeyId: ""  # Set this for dev testing
      secretAccessKey: ""  # Set this for dev testing

  # Dev environment - use dry run for initial testing
  dryRun: true  # Override to false once validated
  writeToStorage: false  # Override to true once storage is configured
  verbose: true

  # Dev logging
  logging:
    format: "json"
    level: "DEBUG"  # More verbose for debugging
