# values-dev.yaml
global:
  environment: development

secrets:
  # Database configuration
  dbUser: "treasuremap"
  dbPassword: "treasuremap"  # Will be randomly generated if not provided
  dbName: "treasuremap"

  # Mail configuration
  mailPassword: "your-mail-password"  # Add actual password for dev environment

  # AWS credentials
  awsAccessKeyId: "your-awsa-access-key-id"
  awsSecretAccessKey: "your-aws-secret-key"

  # reCAPTCHA keys
  recaptchaPublicKey: "your-recaptcha-public-key"
  recaptchaPrivateKey: "your-recaptcha-private-key"

  # Zenodo access
  zenodoAccessKey: "your-zenodo-access-key"

  # Additional secrets needed from docker-compose.yml
  extraSecrets:
    AZURE_ACCOUNT_NAME: "your-azure-account-name"
    AZURE_ACCOUNT_KEY: "your-azure-account-key"
    STORAGE_BUCKET_SOURCE: "s3"
    MAIL_USERNAME: ""
    MAIL_DEFAULT_SENDER: ""
    MAIL_SERVER: "smtp.gmail.com"
    MAIL_PORT: "465"
    ADMINS: ""
    AWS_DEFAULT_REGION: "us-east-2"
    AWS_BUCKET: "gwtreasuremap"
    REDIS_URL: "redis://redis:6379/0"
    DEBUG: "True"

backend:
  replicas: 1
  resources:
    limits:
      cpu: 300m
      memory: 300Mi
    requests:
      cpu: 100m
      memory: 150Mi
  readinessProbe:
    enabled: false

frontend:
  replicas: 1

database:
  persistence:
    size: 1Gi
  restore:
    enabled: true  # Set to true when you want to restore a database dump
    method: "hostPath"  # Options: hostPath, configMap
    
    # For hostPath method (when method is set to "hostPath"):
    # These paths must be accessible from your minikube or k8s node
    sqlDumpDir: "/home/stevefoale/PycharmWorkspace/gwtm.changed"  # Directory containing your SQL dump
    sqlDumpPath: "data_dump.sql"                                  # Just the filename within sqlDumpDir
    # For configMap method (when method is set to "configMap"):
    # You can either:
    # 1. Use the template-provided ConfigMap and edit the sql-dump-configmap.yaml file
    # 2. Create your own ConfigMap outside of Helm and reference it here
    configMapName: "sql-dump"  
    configMapKey: "dump.sql"
